---
import LinkedInIcon from "@/assets/linkedin-icon.svg";
import GitHubIcon from "@/assets/github-icon-footer.svg";
import EmailIcon from "@/assets/email-icon.svg";

const iconMap = {
  linkedin: LinkedInIcon,
  github: GitHubIcon,
  email: EmailIcon,
};

const year = new Date().getFullYear();

const footerSections = [
  {
    title: "Project",
    links: [
    { href: "#overview", text: "Overview" },
    { href: "#why-matters", text: "Why WDPC Matters" },
    { href: "#architecture-vision", text: "Explore" },
    { href: "#resources", text: "Resources" },
    { href: "#directory", text: "Directory" },
    ],
  },
  {
    title: "Get Involved",
    links: [
      {
        href: "https://github.com/Green-Software-Foundation/hardware-standards-wg",
        text: "Join Working Group",
      },
      {
        href: "https://github.com/Green-Software-Foundation/hardware-standards-wg",
        text: "Provide Feedback",
      },
      {
        href: "https://greensoftware.foundation/join-us",
        text: "Become a Member",
      },
      {
        href: "mailto:workload-dynamic-power-cooling@greensoftware.foundation",
        text: "Contact Team",
      },
    ],
  },
  {
    title: "GSF Info",
    links: [
      {
        href: "https://greensoftware.foundation/",
        text: "About",
      },
      {
        href: "https://greensoftware.foundation/join-us",
        text: "Membership",
      },
      {
        href: "https://directory.greensoftware.foundation/projects/",
        text: "Projects",
      },
    ],
  },
  {
    title: "Legal",
    links: [
      {
        href: "https://greensoftware.foundation/policy/terms",
        text: "Privacy Policy",
      },
      {
        href: "https://greensoftware.foundation/policy/terms",
        text: "Terms and Conditions",
      },
    ],
  },
  {
    title: "Contact",
    type: "contact",
    socialLinks: [
      {
        href: "https://github.com/Green-Software-Foundation",
        icon: "github",
        label: "GitHub",
      },
      {
        href: "https://www.linkedin.com/company/green-software-foundation/",
        icon: "linkedin",
        label: "LinkedIn",
      },
      {
        href: "mailto:workload-dynamic-power-cooling@greensoftware.foundation",
        icon: "email",
        label: "Email",
      },
    ],
  },
];
---

<footer class="bg-primary-darker">
  <div class="container">
    <div
      class="grid grid-cols-1 py-12 md:py-18 lg:grid-cols-[1.5fr_1fr_1fr_1fr_1fr_1fr] lg:gap-16 lg:py-20"
    >
      <div class="flex w-full flex-col gap-4">
        <img src="/assets/footer-logo.svg" class="w-20" />
        <p class="pt-4 text-xs font-normal text-white/50">
          Copyright Â© {year} Green Software Foundation. All rights reserved. <br /><br /> Ready to implement
          WDPC? Course coming soon.
        </p>
      </div>

      {
        footerSections.map((section) => (
          <div class="mt-8 flex flex-col gap-4 lg:mt-0">
            <h1 class="relative text-xs font-bold tracking-[3px] text-accent lg:mb-4">
              {section.title}
              <span class="hidden lg:absolute lg:-bottom-2 lg:left-0 lg:flex lg:h-1 lg:w-6 lg:bg-accent" />
            </h1>

            <div class="flex flex-col gap-4">
              {section.type === "contact" ? (
                <>
                  <div class="flex gap-4">
                    {section.socialLinks.map((social) => {
                      const Icon = iconMap[social.icon as keyof typeof iconMap];
                      return (
                        <a
                          href={social.href}
                          class="text-white/50 transition-colors hover:text-accent"
                          aria-label={social.label}
                        >
                          {Icon ? (
                            <Icon class="text-accent" width={20} height={20} />
                          ) : null}
                        </a>
                      );
                    })}
                  </div>
                </>
              ) : (
                section.links?.map((link) => (
                  <a href={link.href} class="text-xs text-white/50">
                    {link.text}
                  </a>
                ))
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</footer>
